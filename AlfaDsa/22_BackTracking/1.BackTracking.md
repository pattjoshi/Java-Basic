# Back Tracking

- **Backtracking is a systematic method of trying out various sequences of decisions until you find out that works**

<img width="712" alt="image" src="https://user-images.githubusercontent.com/78966839/210162196-e10e93a9-ece7-4198-9bba-f10e2195f07c.png">

# Type of Back Tracking

<img width="634" alt="image" src="https://user-images.githubusercontent.com/78966839/210162403-9c4086c4-cf0b-454d-967b-10f2e54142a4.png">

# BackTracking on Array


<img width="764" alt="image" src="https://user-images.githubusercontent.com/78966839/210835863-3c8293e6-bc0f-477c-8346-5c3249c2caa3.png">

# Code 

```
public class BackTrackingOnArray {
    public static void changeArr(int arr[], int i, int val) {
        // Base case
        if (i == arr.length) {
            PrintArray(arr);
            return;
        }

        // recurshion
        arr[i] = val;
        changeArr(arr, i + 1, val + 1); // fnx call stape
        arr[i] = arr[i] - 2; // BackTracking
        // Backtracking is allwase after function call
    }

    public static void PrintArray(int arr[]) {
        for (int i = 0; i < arr.length; i++) {
            System.out.print(arr[i] + " ");
        }
        System.out.println();
    }

    public static void main(String[] args) {
        int arr[] = new int[5];
        changeArr(arr, 0, 1); // 1 2 3 4 5
        PrintArray(arr); // -1 0 1 2 3

    }
}
```
- **Backtracking is allwase after function call**

### Stack analysis

 <img width="755" alt="image" src="https://user-images.githubusercontent.com/78966839/210845427-7cb1d748-49d9-49f0-8b8d-47d1035df3d8.png">

<img width="762" alt="image" src="https://user-images.githubusercontent.com/78966839/210845571-10927250-75d9-455d-97c1-4cb063449814.png">


### Time Complixity and Space complexity are same o(n)

<img width="476" alt="image" src="https://user-images.githubusercontent.com/78966839/210845878-1b03f40b-5184-4b47-bd05-e6a99d4cdd6e.png">

# Find Sunset
- Set :- collection of object
- if string length n then subset = 2 pow n
<img width="681" alt="image" src="https://user-images.githubusercontent.com/78966839/211146270-737831bf-334e-4ebc-9581-7c5a484c9cc9.png">

- Back Tracking :- Tracking the back

<img width="725" alt="image" src="https://user-images.githubusercontent.com/78966839/211147058-b4732fc2-bc15-45a9-a198-e159b228a059.png">

<img width="730" alt="image" src="https://user-images.githubusercontent.com/78966839/211147218-0d6018d6-085d-452a-b421-d9b27d03228f.png">

# Approch 
<img width="731" alt="image" src="https://user-images.githubusercontent.com/78966839/211147280-02d0969b-9e17-4a2e-8136-79adb0915a1d.png">

# Code 

```
public class Subset {

    public static void findSubSet(String str, String ans, int i) {
        // Base case
        if (i == str.length()) {
            if (ans.length() == 0) {
                System.out.print("null");
            }
            System.out.println(ans);
            return;
        }
        // recurshion
        // yes choise
        findSubSet(str, ans + str.charAt(i), i + 1);
        // No choise
        findSubSet(str, ans, i + 1);
    }

    public static void main(String args[]) {
        String str = "abc";
        findSubSet(str, "", 0);

    }
}
```

- In java everithing is pass by value .

## T.C S.P

<img width="672" alt="image" src="https://user-images.githubusercontent.com/78966839/211149031-b7ea3122-95fd-4a7f-a689-12f7e3734d0b.png">

# Find permutation 
- permutation :- Arrangment

<img width="701" alt="image" src="https://user-images.githubusercontent.com/78966839/211181176-bcdb5926-bd91-4a5d-bc19-79a22ad2d7ad.png">

# Approch
<img width="709" alt="image" src="https://user-images.githubusercontent.com/78966839/211181583-cac6948a-27a6-4c69-b045-081da70642c6.png">

<img width="711" alt="image" src="https://user-images.githubusercontent.com/78966839/211181612-66b84d60-bfcd-4f0f-af3b-7ab7a33736d8.png">

# Code

```
public class FindPermutation { // T.c o(n*n!)
    public static void findPermutation(String str, String ans) {
        // Base case
        if (str.length() == 0) {
            System.out.println(ans);
        }

        // recursion
        for (int i = 0; i < str.length(); i++) {
            char curr = str.charAt(i);
            // "abcde" remove c :- "ab" + "de" = abde
            String newString = str.substring(0, i) + str.substring(i + 1);
            findPermutation(newString, ans + curr);
        }
    }

    public static void main(String args[]) {
        String str = "abc";
        findPermutation(str, "");

    }
}

```

# N-queens  o(n!)

- queen attack role in chase :- **up,Down,Left,Ritht,digonally left Up,digonally left Down,digonally Right Up,digonally Right Down**

<img width="716" alt="image" src="https://user-images.githubusercontent.com/78966839/211183661-45004bc8-b236-4ad8-b254-9169aa9bb333.png">

- Line are unsafe

<img width="603" alt="image" src="https://user-images.githubusercontent.com/78966839/211183956-4bc8dc90-d6e9-48f4-9d86-bda372c38774.png">

- n-queen qus is given like this

<img width="686" alt="image" src="https://user-images.githubusercontent.com/78966839/211184090-b32a34dc-74fd-46ee-baad-68b80c170a6e.png">

<img width="727" alt="image" src="https://user-images.githubusercontent.com/78966839/211184228-dc2e4162-83be-40e1-9536-9ec4237dd610.png">

- How to set queen not attacking Possible cobination 

<img width="703" alt="image" src="https://user-images.githubusercontent.com/78966839/211184364-81382349-62ae-484e-ba0d-1f09ddcabac2.png">


# Safely set queen

<img width="656" alt="image" src="https://user-images.githubusercontent.com/78966839/211184762-40720caa-be28-49c2-89f7-cce2dcba1fb7.png">

## Check vartical up 

- colom is same row is decrease by 1 (-)

<img width="407" alt="image" src="https://user-images.githubusercontent.com/78966839/211193852-b1856b25-e946-41d7-96a2-33a099622336.png">

## diag left up

<img width="562" alt="image" src="https://user-images.githubusercontent.com/78966839/211194037-0b590758-9c24-467e-9aa5-b898b1d1f3f1.png">

## diag right up 
- row decrease col increase
<img width="465" alt="image" src="https://user-images.githubusercontent.com/78966839/211194217-0243b44c-be0d-4090-b33f-2b43e638ab6a.png">


## Code o(n!)

```

public class nQueens {

    public static boolean isSafe(char board[][], int row, int col) {
        // vartical up
        for (int i = row - 1; i >= 0; i--) {
            if (board[i][col] == 'Q') {
                return false;
            }
        }

        // diag left up
        for (int i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
            if (board[i][j] == 'Q') {
                return false;
            }
        }

        // diag right up
        for (int i = row - 1, j = col + 1; i >= 0 && j < board.length; i--, j++) {
            if (board[i][j] == 'Q') {
                return false;
            }
        }
        return true;

    }

    public static void nqueens(char board[][], int row) {
        // Base
        if (row == board.length) {
            printBoard(board);
            return;
        }
        // colmn loop
        for (int j = 0; j < board.length; j++) {
            // check queen safe
            if (isSafe(board, row, j)) {
                board[row][j] = 'Q';
                nqueens(board, row + 1); // Function call
                board[row][j] = 'X'; // Backtracking Step
            }

        }
    }

    public static void printBoard(char board[][]) {
        System.out.println("------chess board --------");
        for (int i = 0; i < board.length; i++) {
            for (int j = 0; j < board.length; j++) {
                System.out.print(board[i][j] + " ");
            }
            System.out.println();
        }
    }

    public static void main(String[] args) {
        int n = 4;
        char board[][] = new char[n][n];
        // Initialize
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                board[i][j] = 'X';
            }
        }

        nqueens(board, 0);
    }
}
```

## O/p

```
------chess board --------
X Q X X 
X X X Q
Q X X X
X X Q X
------chess board --------
X X Q X
Q X X X
X X X Q
X Q X X
```

# N Queens T.c 

<img width="540" alt="image" src="https://user-images.githubusercontent.com/78966839/211357825-5ccba1b5-4ee3-4846-9b89-a98dd4c0bb2e.png">

## recurrence relation

<img width="673" alt="image" src="https://user-images.githubusercontent.com/78966839/211358624-281f779e-cc4c-445e-aa96-bf30e40e80f1.png">






























